<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
      #upload {
        height: 80px;
        width: 80px;
        border-radius: 10px;
        border: 3px dashed #cccccc;
        font-size: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div id="upload">+</div>
    <div>
      <p>图片预览</p>
      <img id="img" src="" alt="">
    </div>

    <script>
    // token
    let token = 'Hz4FEqQ4ACEYlhEpo_FKknDcjHr8d6vkA2TcIUli:8bvHCy2VrKxiX42gI6e6H8RpQpc=:eyJzY29wZSI6InRlc3QiLCJkZWFkbGluZSI6MTU1Mjg3OTQ5OH0='
    let input = document.createElement('input')
    let upload = document.getElementById('upload')
    let xhr = new XMLHttpRequest()
    input.type = 'file'
    upload.onclick = function () {
      input.click()
    }
    input.onchange = function () {
      xhr.open('post', '//up-z2.qiniup.com')
      let formData = new FormData()
      formData.append('file', input.files[0])
      formData.append('token', token)
      xhr.send(formData)
    }
    xhr.onreadystatechange = function () {
      if (xhr.status === 200 && xhr.readyState === 4) {
        document.getElementById('img').src = 'http://7n.freelight.vip/' + JSON.parse(xhr.responseText).key
      }
    }
    </script>
  </body>
</html>
